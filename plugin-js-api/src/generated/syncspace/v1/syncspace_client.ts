// @generated by custom-client v1 with parameter "target=ts"
// @generated from file syncspace/v1/syncspace.proto (package syncspace.v1, syntax proto3)
/* eslint-disable */

import type { Message, MessageInitShape } from "@bufbuild/protobuf";
import { create, fromBinary, toBinary } from "@bufbuild/protobuf";
import type { GenMessage } from "@bufbuild/protobuf/codegenv2";
import { invoke } from "@tauri-apps/api/core";
import {
  CreateDocumentRequestSchema,
  CreateDocumentResponseSchema,
  CreateSpaceRequestSchema,
  CreateSpaceResponseSchema,
  DeleteDocumentRequestSchema,
  DeleteDocumentResponseSchema,
  DeleteSpaceRequestSchema,
  DeleteSpaceResponseSchema,
  GetDocumentRequestSchema,
  GetDocumentResponseSchema,
  GetSyncStatusRequestSchema,
  GetSyncStatusResponseSchema,
  InitRequestSchema,
  InitResponseSchema,
  JoinSpaceRequestSchema,
  JoinSpaceResponseSchema,
  LeaveSpaceRequestSchema,
  LeaveSpaceResponseSchema,
  ListDocumentsRequestSchema,
  ListDocumentsResponseSchema,
  ListSpacesRequestSchema,
  ListSpacesResponseSchema,
  PauseSyncRequestSchema,
  PauseSyncResponseSchema,
  QueryDocumentsRequestSchema,
  QueryDocumentsResponseSchema,
  ShutdownRequestSchema,
  ShutdownResponseSchema,
  StartSyncRequestSchema,
  StartSyncResponseSchema,
  SubscribeRequestSchema,
  SubscribeResponseSchema,
  UpdateDocumentRequestSchema,
  UpdateDocumentResponseSchema,
} from "./syncspace_pb";

export type InitRequest = MessageInitShape<typeof InitRequestSchema>;
export type InitResponse = MessageInitShape<typeof InitResponseSchema>;
export type ShutdownRequest = MessageInitShape<typeof ShutdownRequestSchema>;
export type ShutdownResponse = MessageInitShape<typeof ShutdownResponseSchema>;
export type CreateSpaceRequest = MessageInitShape<typeof CreateSpaceRequestSchema>;
export type CreateSpaceResponse = MessageInitShape<typeof CreateSpaceResponseSchema>;
export type JoinSpaceRequest = MessageInitShape<typeof JoinSpaceRequestSchema>;
export type JoinSpaceResponse = MessageInitShape<typeof JoinSpaceResponseSchema>;
export type LeaveSpaceRequest = MessageInitShape<typeof LeaveSpaceRequestSchema>;
export type LeaveSpaceResponse = MessageInitShape<typeof LeaveSpaceResponseSchema>;
export type ListSpacesRequest = MessageInitShape<typeof ListSpacesRequestSchema>;
export type ListSpacesResponse = MessageInitShape<typeof ListSpacesResponseSchema>;
export type DeleteSpaceRequest = MessageInitShape<typeof DeleteSpaceRequestSchema>;
export type DeleteSpaceResponse = MessageInitShape<typeof DeleteSpaceResponseSchema>;
export type CreateDocumentRequest = MessageInitShape<typeof CreateDocumentRequestSchema>;
export type CreateDocumentResponse = MessageInitShape<typeof CreateDocumentResponseSchema>;
export type GetDocumentRequest = MessageInitShape<typeof GetDocumentRequestSchema>;
export type GetDocumentResponse = MessageInitShape<typeof GetDocumentResponseSchema>;
export type UpdateDocumentRequest = MessageInitShape<typeof UpdateDocumentRequestSchema>;
export type UpdateDocumentResponse = MessageInitShape<typeof UpdateDocumentResponseSchema>;
export type DeleteDocumentRequest = MessageInitShape<typeof DeleteDocumentRequestSchema>;
export type DeleteDocumentResponse = MessageInitShape<typeof DeleteDocumentResponseSchema>;
export type ListDocumentsRequest = MessageInitShape<typeof ListDocumentsRequestSchema>;
export type ListDocumentsResponse = MessageInitShape<typeof ListDocumentsResponseSchema>;
export type QueryDocumentsRequest = MessageInitShape<typeof QueryDocumentsRequestSchema>;
export type QueryDocumentsResponse = MessageInitShape<typeof QueryDocumentsResponseSchema>;
export type StartSyncRequest = MessageInitShape<typeof StartSyncRequestSchema>;
export type StartSyncResponse = MessageInitShape<typeof StartSyncResponseSchema>;
export type PauseSyncRequest = MessageInitShape<typeof PauseSyncRequestSchema>;
export type PauseSyncResponse = MessageInitShape<typeof PauseSyncResponseSchema>;
export type GetSyncStatusRequest = MessageInitShape<typeof GetSyncStatusRequestSchema>;
export type GetSyncStatusResponse = MessageInitShape<typeof GetSyncStatusResponseSchema>;
export type SubscribeRequest = MessageInitShape<typeof SubscribeRequestSchema>;
export type SubscribeResponse = MessageInitShape<typeof SubscribeResponseSchema>;
/**
 * SyncSpaceService provides the complete SyncSpace API for spaces, documents, and synchronization
 * Note: This service definition is for documentation and TypeScript client generation.
 * The actual Go implementation uses the dispatcher pattern with TransportService (see transport.proto).
 *
 * @generated from service syncspace.v1.SyncSpaceService
 */
export class SyncSpaceService {
  /**
   * Raw command function for dispatching to the SyncSpace backend.
   * Use this for advanced cases where the typed client is insufficient.
   */
  async dispatchCommand(cmd: string, payload: Uint8Array): Promise<Uint8Array> {
    try {
      const responseArray = await invoke<number[]>("plugin:any-sync|command", {
        cmd,
        payload: Array.from(payload),
      });

      return new Uint8Array(responseArray);
    } catch (error) {
      throw new Error(
        `Failed to execute command '${cmd}': ${error instanceof Error ? error.message : String(error)}`,
      );
    }
  }

  private async _dispatch<Req extends Message, Res extends Message>(
    cmd: string,
    reqSchema: GenMessage<Req>,
    resSchema: GenMessage<Res>,
    req: Req,
  ): Promise<Res> {
    return fromBinary(resSchema, await this.dispatchCommand(cmd, toBinary(reqSchema, req)));
  }

  /**
   * Lifecycle operations
   *
   * @generated from rpc syncspace.v1.SyncSpaceService.Init
   */

  async init(request: InitRequest): Promise<InitResponse> {
    const req = create(InitRequestSchema, request);
    return this._dispatch("Init", InitRequestSchema, InitResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.Shutdown
   */

  async shutdown(request: ShutdownRequest): Promise<ShutdownResponse> {
    const req = create(ShutdownRequestSchema, request);
    return this._dispatch("Shutdown", ShutdownRequestSchema, ShutdownResponseSchema, req);
  }

  /**
   * Space operations
   *
   * @generated from rpc syncspace.v1.SyncSpaceService.CreateSpace
   */

  async createSpace(request: CreateSpaceRequest): Promise<CreateSpaceResponse> {
    const req = create(CreateSpaceRequestSchema, request);
    return this._dispatch("CreateSpace", CreateSpaceRequestSchema, CreateSpaceResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.JoinSpace
   */

  async joinSpace(request: JoinSpaceRequest): Promise<JoinSpaceResponse> {
    const req = create(JoinSpaceRequestSchema, request);
    return this._dispatch("JoinSpace", JoinSpaceRequestSchema, JoinSpaceResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.LeaveSpace
   */

  async leaveSpace(request: LeaveSpaceRequest): Promise<LeaveSpaceResponse> {
    const req = create(LeaveSpaceRequestSchema, request);
    return this._dispatch("LeaveSpace", LeaveSpaceRequestSchema, LeaveSpaceResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.ListSpaces
   */

  async listSpaces(request: ListSpacesRequest): Promise<ListSpacesResponse> {
    const req = create(ListSpacesRequestSchema, request);
    return this._dispatch("ListSpaces", ListSpacesRequestSchema, ListSpacesResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.DeleteSpace
   */

  async deleteSpace(request: DeleteSpaceRequest): Promise<DeleteSpaceResponse> {
    const req = create(DeleteSpaceRequestSchema, request);
    return this._dispatch("DeleteSpace", DeleteSpaceRequestSchema, DeleteSpaceResponseSchema, req);
  }

  /**
   * Document operations
   *
   * @generated from rpc syncspace.v1.SyncSpaceService.CreateDocument
   */

  async createDocument(request: CreateDocumentRequest): Promise<CreateDocumentResponse> {
    const req = create(CreateDocumentRequestSchema, request);
    return this._dispatch(
      "CreateDocument",
      CreateDocumentRequestSchema,
      CreateDocumentResponseSchema,
      req,
    );
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.GetDocument
   */

  async getDocument(request: GetDocumentRequest): Promise<GetDocumentResponse> {
    const req = create(GetDocumentRequestSchema, request);
    return this._dispatch("GetDocument", GetDocumentRequestSchema, GetDocumentResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.UpdateDocument
   */

  async updateDocument(request: UpdateDocumentRequest): Promise<UpdateDocumentResponse> {
    const req = create(UpdateDocumentRequestSchema, request);
    return this._dispatch(
      "UpdateDocument",
      UpdateDocumentRequestSchema,
      UpdateDocumentResponseSchema,
      req,
    );
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.DeleteDocument
   */

  async deleteDocument(request: DeleteDocumentRequest): Promise<DeleteDocumentResponse> {
    const req = create(DeleteDocumentRequestSchema, request);
    return this._dispatch(
      "DeleteDocument",
      DeleteDocumentRequestSchema,
      DeleteDocumentResponseSchema,
      req,
    );
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.ListDocuments
   */

  async listDocuments(request: ListDocumentsRequest): Promise<ListDocumentsResponse> {
    const req = create(ListDocumentsRequestSchema, request);
    return this._dispatch(
      "ListDocuments",
      ListDocumentsRequestSchema,
      ListDocumentsResponseSchema,
      req,
    );
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.QueryDocuments
   */

  async queryDocuments(request: QueryDocumentsRequest): Promise<QueryDocumentsResponse> {
    const req = create(QueryDocumentsRequestSchema, request);
    return this._dispatch(
      "QueryDocuments",
      QueryDocumentsRequestSchema,
      QueryDocumentsResponseSchema,
      req,
    );
  }

  /**
   * Sync control operations
   *
   * @generated from rpc syncspace.v1.SyncSpaceService.StartSync
   */

  async startSync(request: StartSyncRequest): Promise<StartSyncResponse> {
    const req = create(StartSyncRequestSchema, request);
    return this._dispatch("StartSync", StartSyncRequestSchema, StartSyncResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.PauseSync
   */

  async pauseSync(request: PauseSyncRequest): Promise<PauseSyncResponse> {
    const req = create(PauseSyncRequestSchema, request);
    return this._dispatch("PauseSync", PauseSyncRequestSchema, PauseSyncResponseSchema, req);
  }

  /**
   * @generated from rpc syncspace.v1.SyncSpaceService.GetSyncStatus
   */

  async getSyncStatus(request: GetSyncStatusRequest): Promise<GetSyncStatusResponse> {
    const req = create(GetSyncStatusRequestSchema, request);
    return this._dispatch(
      "GetSyncStatus",
      GetSyncStatusRequestSchema,
      GetSyncStatusResponseSchema,
      req,
    );
  }

  /**
   * Event streaming
   *
   * @generated from rpc syncspace.v1.SyncSpaceService.Subscribe
   */

  async subscribe(request: SubscribeRequest): Promise<SubscribeResponse> {
    const req = create(SubscribeRequestSchema, request);
    return this._dispatch("Subscribe", SubscribeRequestSchema, SubscribeResponseSchema, req);
  }
}

// Convenience export for singleton
export const syncSpace = new SyncSpaceService();
